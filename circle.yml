machine:
  services:
    - docker

dependencies:
  override:
    - docker pull ubuntu:14.04
    - docker pull ubuntu:12.04
    - docker pull centos:6
    - docker pull centos:7
test:
  override:
    - docker run --rm=true -v `pwd`:/ansible-pycharm:rw ubuntu:14.04 /bin/bash -c "/ansible-pycharm/tests/test-on-deb.sh $ANSIBLE_SHORT_VERSION"
        environment:
          - ANSIBLE_VERSION:latest
          - ANSIBLE_VERSION:1.4
          - ANSIBLE_VERSION:1.4.1
          - ANSIBLE_VERSION:1.4.2
          - ANSIBLE_VERSION:1.4.3
          - ANSIBLE_VERSION:1.4.4
          - ANSIBLE_VERSION:1.4.5
          - ANSIBLE_VERSION:1.5.1
          - ANSIBLE_VERSION:1.5.2
          - ANSIBLE_VERSION:1.5.3
          - ANSIBLE_VERSION:1.5.4
          - ANSIBLE_VERSION:1.5.5
          - ANSIBLE_VERSION:1.6
          - ANSIBLE_VERSION:1.6.1
          - ANSIBLE_VERSION:1.6.2
          - ANSIBLE_VERSION:1.6.3
          - ANSIBLE_VERSION:1.6.4
          - ANSIBLE_VERSION:1.6.5
          - ANSIBLE_VERSION:1.6.6
          - ANSIBLE_VERSION:1.6.7
          - ANSIBLE_VERSION:1.6.8
          - ANSIBLE_VERSION:1.6.9
          - ANSIBLE_VERSION:1.6.10
          - ANSIBLE_VERSION:1.7
          - ANSIBLE_VERSION:1.7.1
          - ANSIBLE_VERSION:1.7.2
          - ANSIBLE_VERSION:1.8
          - ANSIBLE_VERSION:1.8.1
          - ANSIBLE_VERSION:1.8.2
          - ANSIBLE_VERSION:1.8.3
          - ANSIBLE_VERSION:1.8.4
          - ANSIBLE_VERSION:1.9.0.1
          - ANSIBLE_VERSION:1.9.1
          - ANSIBLE_VERSION:1.9.2


    # Run tests on Ubuntu 12
    - docker run --rm=true -v `pwd`:/ansible-pycharm:rw ubuntu:12.04 /bin/bash -c "/ansible-pycharm/tests/test-on-deb.sh $ANSIBLE_SHORT_VERSION"
    #   # Run tests on CentOs 6
    - docker run --rm=true -v `pwd`:/ansible-pycharm:rw centos:6 /bin/bash -c "/ansible-pycharm/tests/test-on-rpm.sh $ANSIBLE_SHORT_VERSION"
    #     # Run tests on CentOs 7
    - docker run --rm=true -v `pwd`:/ansible-pycharm:rw centos:7 /bin/bash -c "/ansible-pycharm/tests/test-on-rpm.sh $ANSIBLE_SHORT_VERSION"
  

